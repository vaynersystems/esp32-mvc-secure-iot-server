<script type="text/javascript" src="/W/JS/C/moment.js"></script>
<script type="text/javascript" src="/W/JS/C/chart.js"></script>
<script type="text/javascript" src="/W/JS/C/luxon.js"></script>
<script type="text/javascript" src="/W/JS/C/chart.luxon.js"></script>
<script type="text/javascript" src="/W/JS/C/chart.zoom.js"></script>
<script type="text/javascript" src="/W/JS/C/chart.stream.js"></script>
<script type="text/javascript" src="/W/JS/esp32_chart.js"></script>
<script type="text/javascript" src="/W/JS/esp32_socket.js"></script>
<script type="text/javascript" src="/W/JS/esp32_dashboard.js"></script>

<style type="text/css">    
    .row{
        font-size: 12px;
    }
 
    .section{
        /* border: solid 1px #f3cfed;
        border-radius: 5px; */
        padding:0px;
        display: flex;
        flex-direction: column;
        margin: 8px 0px;
    }
    .details{
        display: flex;
        flex-wrap: wrap;
        flex-grow: 1;
        
    }
    .detail,
    .detail-wide{
        margin:10px;
        width: 200px;
        border: solid 6px #5d5eb0;
        border-width: 1px 2px 1px 6px;
        border-radius: 6px;
        padding: 6px 20px;
        background-color: #f3f5ff;        
    }    
    .detail>div:nth-child(1){
        font-weight: 600;
        font-size: 16px;
    }
    .detail>div:nth-child(2){
        font-size: 14px;
    }

    .wide{
        width: 468px;
    }
    .conditional{
        display: var(--available,block);
    }
    
    .bar {
        height: 4px !important;
        background-color: #f5f5f5;
    }.bar::before {
        content: '';
        display: flex;
        justify-content: end;
        width: calc(var(--percent) * 1%);
        height: 3px !important;
        background: hsl(calc(100 - var(--percent)) 95 50) !important;
        
    }    
    @media screen and (max-width: 899px) {
        .grid-2{
            grid-template-columns: 100%;
        }
    }
</style>


<div class="section">
    <div class="header">Devices</div>
    <div class="detail">
        <div class="">Web Socket Status</div>
        <div id="connection-status"></div>
    </div>     
    <div class="grid-2" id="charts-container">
    </div>
</div>    
</div>
<script type="text/javascript">
    let deviceConfig = '$_DEVICES';
    if(deviceConfig[0] !== '$') devices = JSON.parse(deviceConfig);
</script>